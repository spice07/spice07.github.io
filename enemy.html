<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ネクロニカ手駒json生成ツール</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>ネクロニカ　手駒用</h1>
  <h2>データ出力txt → json に変換するツール</h2>
  <h2><a href="index.html">ドール変換はこちら</a></h2>
  <p>【使用上の留意点】<br><ul>
  <li>保管所テキストからのデータ抽出は全角の「：」を基準にしているので、<br>名前やマニューバ名などに「：」があったら「マニューバ検出」前に半角にしてください</li>
  <li>仕様上、【ほね】等同一の宣言マニューバが複数ある場合、宣言チャパレがその数だけ出力されます(2つ目以降の「宣言」を外せば解決します)</li></ul></p>

  <!-- 1段目：入力 -->
  <div class="section">
    <h3>入力（データ出力.txt）</h3>
    <textarea id="input" placeholder="ここに データ出力(txt) の内容を貼り付け"></textarea>
    <form>
      手駒種別：<br>
      <label><input type="radio" name="category" value="s">サヴァント　</label>
      <label><input type="radio" name="category" value="h">ホラー　</label>
      <label><input type="radio" name="category" value="r">レギオン　</label>
    </form>
    <div class="buttons">
      <button id="sampleBtnS">サンプル：サヴァント</button>
      <button id="sampleBtnH">サンプル：ホラー</button>
      <button id="sampleBtnR">サンプル：レギオン</button>
      <br>
      <button id="parseBtn">マニューバ検出</button>
    </div>
  </div>

  <!-- 2段目：中央にマニューバ表 -->
  <div class="section">
    <h3 title="
【各種パラメータの使い方】

『宣言』宣言が必要なものか。有効にすると宣言コマンドがチャパレに出力される

『判定』どんなダイスを使うか。「宣言：有効」で「不要」以外にすると判定コマンドがチャパレに出力される

『攻撃種』攻撃マニューバの場合、どの種別の攻撃か。そのマニューバ自身の補正値に影響する

『常時補助種』マニューバに常時影響を与える場合、どの攻撃種に有効か。
	“支援”“妨害”は常時ではないため「自身,非補助」扱い

『出目+-』自身・もしくは他マニューバに影響する出目の補正値。
	デフォルトで判定に補正値nがある武器は「常時補助種：自身,非補助」「出目+-：n」
	○○攻撃に判定補正値mを与えるスキルは「常時補助種：○○」「出目+-：m」

『ダメ+-』他マニューバに影響するダメージの補正値。
	追加ダメージ計算用なので、“○○攻撃 n”等の攻撃マニューバは「ダメ+-：0」

『部位』『マニューバ名』『ﾀｲﾐﾝｸﾞ』『ｺｽﾄ』『射程』『効果』
	キャラクター保管所で扱っているものと同じ。
	マニューバ名を各種スキルや基本パーツの正式名称で入力した状態で「マニューバ検出」すると、保管所からのデータではなく、
	左側パラメータの自動入力がされた状態のサイト側が用意したデータが出力される。

『要編集』左側のパラメータが自動入力されているか。✏️が入っているものは左側の編集が必要

『削除』押すとそのマニューバが削除される。
">マニューバ一覧(ここにカーソルを合わせると使い方が見れます)</h3>
    <div id="assistSummaryContainer"></div>
	<br>
    <div id="maneuverTableContainer"></div>

  </div>

  <!-- 3段目：出力 -->
  <div class="section">
    <h3>出力（json）（「マニューバ反映」を押さないとマニューバが反映されません）
	 <div class="buttons">
	<button id="ChatPalletBtn">マニューバ反映</button> </div>
    </h3>
    <pre id="output" class="output"></pre>
　　<p>↑これをココフォリアにコピペすると駒が出力されます<br>
	※コストや射程の増減や効果の変化など、判定値とダメージ以外の変化はチャパレに自動反映されません。<br>
	　【手負いの獣】【ガントレット】など補正条件や補正値が特殊なものも自動反映の対象外ですので、駒出力後に手動で修正してください
    </p>
    <div class="buttons">
      <button id="downloadBtn">Download json.txt</button>
    </div>
  </div>
  お問い合わせはこちらまで　𝕏 : 
  <a href="https://x.com/spice_nari?s=20">@spice_nari</a>

  <script src="script_enemy.js"></script>
</body>
</html>

